<html>
  
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../../../style.css">
    <base target="_parent">
    <title data-trilium-title>comment on appelle</title>
  </head>
  
  <body>
    <div class="content">
       <h1 data-trilium-h1>comment on appelle</h1>

      <div class="ck-content">
        <p>Asterisk simple appel</p>
        <ol>
          <li>Copier le fichier de base pour pas le perdre&nbsp;</li>
        </ol>
        <p>cp /etc/asterisk/sip.conf /etc/asterisk/sip.conf.original</p>
        <ol>
          <li>Vider le fichier sip.conf</li>
        </ol>
        <p>&gt; /etc/asterisk/sip.conf</p>
        <ol>
          <li>On édite le fichier&nbsp;</li>
        </ol>
        <p>nano /etc/asterisk/sip.conf
          <br>&nbsp;</p>
        <figure class="image image-style-block-align-left">
          <img style="aspect-ratio:756/456;" src="2_comment on appelle_image.png"
          width="756" height="456">
        </figure>
        <p>[general]
          <br>language=fr
          <br>bindaddr=0.0.0.0
          <br>dtmfmode=rfc2833
          <br>disallow=all
          <br>allow=ulaw
          <br>allow=alaw
          <br>hassip=yes
          <br>hasiax=no
          <br>callwaiting=yes
          <br>transfer=yes
          <br>canpark=yes
          <br>hasvoicemail=yes
          <br>deny=0.0.0.0/0.0.0.0
          <br>permit=X.X.X.X/255.255.255.0
          <br>qualify=yes</p>
        <p>[100]
          <br>secret=1234
          <br>callerdid= 'Ben' &lt;100&gt;
          <br>mailbox=100@default
          <br>type=friend
          <br>host=dynamic
          <br>nat=no
          <br>context=local</p>
        <p>&nbsp;</p>
        <p>&nbsp;</p>
        <p>Pour pouvoir tester comme il ce doit créer une utilisateur 101</p>
        <p>&nbsp;</p>
        <ol>
          <li>Faire une copie du fichier extensions</li>
        </ol>
        <p>cp /etc/asterisk/extensions.conf /etc/asterisk/extensions.conf.original</p>
        <ol>
          <li>On vide le fichier&nbsp;</li>
        </ol>
        <p>&gt; /etc/asterisk/extensions.conf</p>
        <ol>
          <li>On édite le fichier</li>
        </ol>
        <p>nano /etc/asterisk/extensions.conf</p>
        <p>
          <img src="comment on appelle_image.png" width="757" height="137">
        </p>
        <p>exten =&gt;_XXX,1,Answer()
          <br>exten =&gt;_XXX,n,Dial(SIP/${EXTEN},10)
          <br>exten =&gt;_XXX,n,Hangup()</p>
        <p>exten =&gt;888,1,VoiceMailMain(${CALLERID(num)})
          <br>&nbsp;</p>
        <p><span style="color:red;"><i>tout ce qui se trouve après « ; » est un commentaire. Il n’est donc pas</i></span>
        </p>
        <p><span style="color:red;"><i>obligatoire de le mettre.</i></span>
        </p>
        <p><span style="color:red;"><i>Le motif « _1XX » permet de prendre en compte tous les numéros allant</i></span>
        </p>
        <p><span style="color:red;"><i>de 100 à 199</i></span>
        </p>
        <ol>
          <li><i>Aller dans la console d’asterisk pour voir les utilisateurs créer&nbsp;</i>
          </li>
        </ol>
        <p>asterisk -rvv&nbsp;; ouvrir la console</p>
        <p>reload&nbsp;; recharger pour prendre en compte les changements</p>
        <p>sip show users ; permet de voir les utilisateurs créés</p>
        <p><i><img src="1_comment on appelle_image.png" width="756" height="83"></i>
        </p>
      </div>
    </div>
  </body>

</html>